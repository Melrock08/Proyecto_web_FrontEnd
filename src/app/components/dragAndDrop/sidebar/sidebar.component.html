<aside class="sidebar" [class.collapsed]="!isExpanded">
  <!-- Header del sidebar -->
  <div class="sidebar-header">
    <h3 *ngIf="isExpanded">Elementos</h3>
    <button
      class="toggle-btn"
      (click)="toggleSidebar()"
      [attr.aria-label]="isExpanded ? 'Colapsar sidebar' : 'Expandir sidebar'"
    >
      {{ isExpanded ? 'â—€' : 'â–¶' }}
    </button>
  </div>

  <!-- Contenido del sidebar -->
  <div class="sidebar-content" *ngIf="isExpanded">
    <div class="element-section">
      <h4>Componentes de Diagrama</h4>
      
      <!-- DROP LIST envolviendo los elementos -->
      <div
        cdkDropList
        [id]="sidebarDropListId"
        [cdkDropListConnectedTo]="['diagram-canvas']"
        [cdkDropListSortingDisabled]="true"
        class="sidebar-drop-list"
      >
        <!-- Elementos arrastrables -->
        <div
          *ngFor="let element of availableElements"
          class="sidebar-element"
          cdkDrag
          [cdkDragData]="element"
          [style.backgroundColor]="element.style.backgroundColor"
        >
          <span class="element-text">{{ element.label }}</span>
          
          <!-- Preview personalizado para el drag -->
          <div class="drag-preview" *cdkDragPreview [style.backgroundColor]="element.style.backgroundColor">
            <span class="element-text">{{ element.label }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Instrucciones de uso -->
    <div class="instructions">
      <p><strong>ðŸ’¡ CÃ³mo usar:</strong></p>
      <ul>
        <li>Arrastra los elementos al lienzo</li>
        <li>Conecta los elementos entre sÃ­</li>
        <li>Elimina elementos con el botÃ³n Ã—</li>
      </ul>
    </div>
  </div>
</aside>
