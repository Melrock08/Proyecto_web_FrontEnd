<div class="relative h-screen w-screen bg-slate-50">

  <!-- Canvas (fondo) -->
  <div class="absolute inset-0 z-0">
    <app-diagram
      class="w-full h-full"
      (nodoSeleccionado)="onNodoSeleccionado($event)"
    ></app-diagram>
  </div>

  <!-- üîπ Top Toolbar ‚Äî paleta id√©ntica al sidebar -->
  <div
    class="absolute left-0 right-0  z-40 flex items-center justify-between px-6 py-3
          bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700
          text-white border border-white/10 backdrop-blur-xl shadow-2xl
          transition-all duration-300"
  >
    <!-- üî∏ Izquierda: T√≠tulo y estado -->
    <div class="flex items-center gap-4">
      <button
        (click)="irAtras()"
        class="rounded-full p-2 bg-teal-500 text-white shadow-sm hover:bg-teal-400 transition-all"
        title="Volver"
      >
        ‚Üê
      </button>

      <div class="text-lg font-semibold text-white tracking-tight">
        Editor de procesos
      </div>

      <span
        class="ml-2 text-sm text-white bg-teal-900/30 px-2 py-1 rounded-full border border-white/10"
      >
        Activo
      </span>

      <span class="ml-4 text-sm text-white/70">Autoguardado</span>
    </div>

    <!-- üî∏ Centro: Controles -->
    <div
      class="flex items-center gap-2 bg-white/5 border border-white/10 rounded-xl px-3 py-2 shadow-inner"
    >
      <button
        class="px-2 py-1 rounded-lg text-white/90 hover:bg-white/10 transition-all"
        title="Deshacer"
      >
        ‚Ü∫
      </button>
      <button
        class="px-2 py-1 rounded-lg text-white/90 hover:bg-white/10 transition-all"
        title="Rehacer"
      >
        ‚Üª
      </button>
      <button
        class="px-2 py-1 rounded-lg text-white/90 hover:bg-white/10 transition-all"
        title="Zoom"
      >
        üîç
      </button>

      <div class="text-sm px-2 font-medium text-white/80">100%</div>

      <button
        class="px-2 py-1 rounded-lg text-white/90 hover:bg-white/10 transition-all"
        title="Ajustar al lienzo"
      >
        ‚Üî
      </button>
    </div>

    <!-- üî∏ Derecha: Acciones -->
    <div class="flex items-center gap-3">
      <button
        class="bg-white/6 text-white px-4 py-1.5 rounded-lg border border-white/10 hover:bg-white/10 transition-all"
      >
        Guardar
      </button>
      <button
        class="bg-teal-500 text-white px-4 py-1.5 rounded-lg shadow-md hover:bg-teal-400 transition-all"
      >
        Publicar
      </button>
    </div>
  </div>




  <!-- Sidebar con fondo din√°mico -->
  <div class="absolute left-0 top-[72px] z-50 h-[calc(100%-72px)] 
              bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700 
              text-white border-r border-white/10 backdrop-blur-xl shadow-2xl flex">
    <app-sidebar class="flex-1 h-full w-full"></app-sidebar>
  </div>

  <!-- Panel de propiedades (derecha) -->
  <div class="fixed right-0 top-[72px] z-50 h-[calc(100%-72px)]">
    <app-property-panel
      [tipoSeleccionado]="selectedTipo"
      [data]="selectedData"
      [nodeId]="selectedNodeId"
      (guardarElemento)="onGuardarElemento($event)"
      (cancelarEdicion)="onCancelarEdicion($event)"
    ></app-property-panel>
  </div>
</div>
