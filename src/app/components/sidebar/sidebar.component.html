<!-- Sidebar moderna con elementos amplios -->
<div
  class="transition-all duration-500 ease-in-out"
  [ngClass]="{ 'w-[320px] p-5': sidebarVisible, 'w-[70px] px-2 py-6': !sidebarVisible }"
>
  <div
    class="h-[80vh] bg-slate-50/80 backdrop-blur-md border border-slate-200 shadow-lg flex flex-col text-slate-700 transition-all duration-500 ease-in-out"
  >
    <!-- üîπ Encabezado -->
    <div class="flex items-center justify-between mb-6">
      <h2
        *ngIf="sidebarVisible"
        class="text-lg font-semibold text-slate-800 tracking-tight"
      >
        Paleta de Nodos
      </h2>

      <button
        (click)="sidebarVisible = !sidebarVisible"
        class="text-slate-400 hover:text-slate-700 p-2 rounded-full hover:bg-slate-100 transition-all duration-300"
        [ngClass]="{ 'rotate-180': !sidebarVisible }"
      >
        ‚ùÆ
      </button>
    </div>

    <!-- üîπ Contenido -->
    <div
      class="flex-1 overflow-y-auto space-y-4 transition-all duration-300"
      *ngIf="sidebarVisible"
    >
      <div
        *ngFor="let e of elementos"
        (click)="seleccionarElemento(e.tipo)"
        draggable="true"
        (dragstart)="onDragStart($event, e.tipo)"
        class="flex items-center gap-4 border border-dashed border-slate-300 p-5 bg-white/70 hover:bg-slate-100 cursor-grab transition-all hover:shadow-md"
      >
        <div
          class="w-14 h-14 flex items-center justify-center text-white text-2xl shadow-inner"
          [ngClass]="{
            'bg-green-500': e.tipo === 'inicio',
            'bg-blue-500': e.tipo === 'actividad',
            'bg-yellow-500': e.tipo === 'gateway',
            'bg-red-500': e.tipo === 'fin'
          }"
        >
          {{ e.icono }}
        </div>

        <div class="flex flex-col">
          <span class="font-semibold text-slate-800 text-[16px] leading-tight">
            {{ e.nombre }}
          </span>
          <span class="text-sm text-slate-500 leading-snug">
            {{
              e.tipo === 'inicio'
                ? 'Punto de inicio del proceso'
                : e.tipo === 'actividad'
                ? 'Tarea o paso de acci√≥n'
                : e.tipo === 'gateway'
                ? 'Punto de decisi√≥n'
                : 'Finalizaci√≥n del proceso'
            }}
          </span>
        </div>
      </div>
    </div>

    <!-- üîπ Pie de panel -->
    <div
      *ngIf="sidebarVisible"
      class="mt-4 border-t border-slate-200 pt-4 text-sm text-slate-500 leading-relaxed"
    >
      <div class="font-semibold mb-1 text-slate-700 flex items-center gap-1">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-teal-500" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M12 8v.01" />
        </svg>
        C√≥mo usar:
      </div>
      <ul class="list-disc list-inside space-y-1">
        <li>Arrastra los nodos al lienzo</li>
        <li>Con√©ctalos mediante los manejadores</li>
      </ul>
    </div>
  </div>
</div>
