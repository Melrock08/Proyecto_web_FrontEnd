<div class="relative h-full">
  <!-- Botón de desplegar -->
  <button
    (click)="togglePanel()"
    class="absolute -left-10 top-6 text-slate-300 hover:text-white p-2 rounded-full hover:bg-white/10 transition-all duration-300 z-50"
    [ngClass]="{ 'rotate-180': !visible }"
    aria-label="Mostrar / ocultar panel"
  >
    ❯
  </button>

  <!-- Panel fijo a la derecha -->
  <div
    class="fixed right-0 top-[72px] h-[calc(100%-72px)] w-[400px]
           bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700
           text-slate-100 backdrop-blur-xl border-l border-white/10 
           shadow-2xl overflow-y-auto p-6 transition-transform duration-500 ease-in-out z-40
           rounded-l-xl"
    [ngStyle]="{ transform: visible ? 'translateX(0%)' : 'translateX(100%)' }"
  >
    <ng-container [ngSwitch]="tipoSeleccionado">
      <app-crear-actividad
        *ngSwitchCase="'actividad'"
        (guardado)="onActividadGuardada($event)"
      ></app-crear-actividad>

      <app-crear-gateway
        *ngSwitchCase="'gateway'"
        (guardado)="onGatewayGuardado($event)"
      ></app-crear-gateway>

      <div
        *ngSwitchDefault
        class="flex flex-col items-center justify-center h-full text-center text-slate-400"
      >
        <div
          class="w-20 h-20 flex items-center justify-center rounded-xl 
                 bg-white/5 border border-white/10 shadow-inner mb-5"
        >
          ⚙️
        </div>
        <p class="text-base font-semibold text-teal-400 mb-1">
          Ningún elemento seleccionado
        </p>
        <p class="text-sm text-slate-400 leading-snug">
          Selecciona un nodo del diagrama para editar sus propiedades.
        </p>
      </div>
    </ng-container>
  </div>
</div>
